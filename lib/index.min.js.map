{"version":3,"sources":["..\\react-bell-chat\\webpack/universalModuleDefinition","..\\react-bell-chat\\webpack/bootstrap 64f01a9db4e75c1df060","..\\react-bell-chat\\external \"react\"","..\\react-bell-chat\\./src/lib/ChatBubble/index.tsx","..\\react-bell-chat\\./src/lib/Avatar/index.tsx","..\\react-bell-chat\\./src/lib/SystemChatBubble/index.tsx","..\\react-bell-chat\\./src/lib/IsTyping/index.tsx","..\\react-bell-chat\\./src/lib/ChatScrollArea/index.tsx","..\\react-bell-chat\\./src/lib/LastSeenAvatar/index.tsx","..\\react-bell-chat\\./src/lib/BubbleGroup/index.tsx","..\\react-bell-chat\\./src/lib/DateRow/index.tsx","..\\react-bell-chat\\./src/lib/LoadingMessages/index.tsx","..\\react-bell-chat\\./src/lib/index.ts","..\\react-bell-chat\\./src/lib/ChatBubble/styles.ts","..\\react-bell-chat\\./src/lib/BubbleGroup/styles.ts","..\\react-bell-chat\\./src/lib/ChatFeed/index.tsx","..\\react-bell-chat\\./src/lib/ChatFeed/styles.ts","..\\react-bell-chat\\./src/lib/utils/utils.ts","..\\react-bell-chat\\./src/lib/ChatInput/index.tsx"],"names":["root","factory","exports","module","require","define","amd","a","i","self","this","__WEBPACK_EXTERNAL_MODULE_0__","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","React","styles_1","defaultBubbleStyles","userBubble","recipientBubble","chatBubble","text","createdOn","recipientCreatedOn","loadingSpinnerColor","isSendIconColor","systemChatBubbleContainerStyle","ChatBubble","_super","props","_this","state","mouseOverLastSeenContainer","__extends","render","message","yourAuthorId","bubbleStyles","youAreAuthor","authorId","chatBubbleStyles","__assign","default","recipientChatBubble","chatBubbleOrientationNormal","recipientChatBubbleOrientationNormal","isFirstInGroup","firstChatBubbleInGroup","recipientFirstChatBubbleInGroup","isLastInGroup","lastChatBubbleInGroup","recipientLastChatBubbleInGroup","isCenterInGroup","centerChatBubbleInGroup","recipientCenterChatBubbleInGroup","createElement","style","chatBubbleWrapper","className","title","toLocaleString","toLocaleTimeString","hour","minute","hour12","undefined","isSend","width","height","xmlns","viewBox","preserveAspectRatio","background","fill","stroke","transform","attributeName","type","calcMode","values","keyTimes","dur","begin","repeatCount","showRecipientLastSeenMessage","lastSeenByAuthors","length","customLastSeenAvatar","lastSeenByContainer","onMouseEnter","setState","onMouseLeave","map","join","replace","key","author","containerStyle","marginTop","zIndex","Component","styles","position","left","top","lineHeight","fontWeight","color","backgroundColor","borderRadius","textAlign","borderTopRightRadius","pointerEvents","avatarName","split","part","toUpperCase","substr","ChatBubble_1","fontSize","time","container","bottom","right","typingAuthors","overflow","padding","ChatScrollArea","ref","scrollContainer","apiRef","scrollToBottom","behavior","scrollTo","scrollHeight","scrollTop","scrolledToBottom","clientHeight","scrolledToLoadThreshold","loadOldMessagesThreshold","maxHeight","minHeight","containerStyles","onScroll","e","onLoadOldMessages","children","transition","display","lastSeenAvatarName","SystemChatBubble_1","Avatar_1","BubbleGroup","renderGroup","messages","_a","bubblesCentered","showRecipientAvatar","customChatBubble","customSystemChatBubble","SystemChatBubble","messageNodes","authors","filter","lastSeenMessageId","id","customAvatar","defaultProps","date","toLocaleDateString","weekday","year","month","day","marginBottom","LoadingMessages","margin","spinnerColor","opacity","isVisible","_1","_2","Avatar","_3","IsTyping","_4","_5","LastSeenAvatar","BubbleGroup_1","_6","ChatFeed","_7","ChatInput","_8","_9","DateRow","_10","marginRight","marginLeft","maxWidth","paddingTop","paddingBottom","paddingLeft","paddingRight","borderTopLeftRadius","borderBottomRightRadius","borderBottomLeftRadius","bubbleGroupHeader","IsTyping_1","ChatScrollArea_1","LastSeenAvatar_1","utils_1","DateRow_1","LoadingMessages_1","DefaultChatBubbleFunc","DefaultScrollAreaFunc","bind","isLoadingMessages","onMessageSend","scrollApi","shouldComponentUpdate","nextProps","nextState","shallowDiffers","componentDidMount","getSnapshotBeforeUpdate","prevProps","prevState","wasScrolledToBottom","componentDidUpdate","snapshot","b","renderMessages","groups","groupBy","item","toDateString","jsxKey","keys","forEach","group","messagesGroup","showDateRow","push","customDateRow","concat","index","messageGroup","renderIsTyping","isTyping","chatPanel","customScrollArea","chatMessages","showRecipientAvatarChatMessagesStyle","showIsTyping","showIsTypingChatMessagesStyle","showRecipientLastSeenMessageChatMessagesStyle","customLoadingMessages","showLoadingMessages","hasOldMessages","Promise","resolve","then","__awaiter","sent","flexDirection","flex","img","array","groupingKeyFn","Error","reduce","result","chatInput","inputStyle","border","borderTopWidth","borderTopStyle","borderTopColor","outline","inputStyles","inputPlaceholder","placeholder"],"mappings":"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","file":"index.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"react\")) : factory(root[\"react\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/lib/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 10);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 64f01a9db4e75c1df060","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 0\n// module chunks = 0","import * as React from 'react';\r\nimport styles from './styles';\r\nimport Message from '../Message';\r\nimport { Author } from '../Author';\r\nimport { LastSeenAvatarProps } from './../LastSeenAvatar';\r\n\r\nconst defaultBubbleStyles: ChatBubbleStyles = {\r\n  userBubble: {},\r\n  recipientBubble: {},\r\n  chatBubble: {},\r\n  text: {},\r\n  createdOn: {},\r\n  recipientCreatedOn: {},\r\n  loadingSpinnerColor: 'rgba(255, 255, 255, 0.55)',\r\n  isSendIconColor: '#cddc39',\r\n  systemChatBubbleContainerStyle: {}\r\n};\r\nexport { defaultBubbleStyles };\r\nexport interface ChatBubbleStyles {\r\n  userBubble?: React.CSSProperties;\r\n  recipientBubble?: React.CSSProperties;\r\n  chatBubble?: React.CSSProperties;\r\n  text?: React.CSSProperties;\r\n  createdOn?: React.CSSProperties;\r\n  recipientCreatedOn?: React.CSSProperties;\r\n  loadingSpinnerColor?: string;\r\n  isSendIconColor?: string;\r\n  systemChatBubbleContainerStyle?: React.CSSProperties;\r\n}\r\n\r\nexport interface ChatBubbleProps {\r\n  message: Message;\r\n  author?: Author;\r\n  bubbleStyles?: ChatBubbleStyles;\r\n  bubblesCentered?: boolean;\r\n  yourAuthorId: number;\r\n  isFirstInGroup?: boolean;\r\n  isLastInGroup?: boolean;\r\n  isCenterInGroup?: boolean;\r\n  lastSeenByAuthors?: Author[];\r\n  showRecipientLastSeenMessage?: boolean;\r\n  customLastSeenAvatar?: (props: LastSeenAvatarProps) => JSX.Element;\r\n}\r\n\r\nexport interface ChatBubbleState {\r\n  mouseOverLastSeenContainer: boolean;\r\n}\r\n\r\nexport default class ChatBubble extends React.Component<ChatBubbleProps, ChatBubbleState> {\r\n  constructor(props: ChatBubbleProps) {\r\n    super(props);\r\n    this.state = {\r\n      mouseOverLastSeenContainer: false\r\n    };\r\n  }\r\n\r\n  public render() {\r\n    if (!this.props.message) {\r\n      return null;\r\n    }\r\n    const { yourAuthorId } = this.props;\r\n    let { bubbleStyles } = this.props;\r\n    bubbleStyles = bubbleStyles || defaultBubbleStyles;\r\n    const { userBubble, chatBubble, text, recipientBubble } = bubbleStyles;\r\n    const youAreAuthor = this.props.message.authorId === yourAuthorId;\r\n\r\n    // message.id 0 is reserved for blue\r\n    const chatBubbleStyles: React.CSSProperties = {\r\n      ...styles.chatBubble,\r\n      ...(youAreAuthor ? {} : styles.recipientChatBubble),\r\n      ...(youAreAuthor ? styles.chatBubbleOrientationNormal : styles.recipientChatBubbleOrientationNormal),\r\n      ...(this.props.isFirstInGroup && (youAreAuthor ? styles.firstChatBubbleInGroup : styles.recipientFirstChatBubbleInGroup)),\r\n      ...(this.props.isLastInGroup && (youAreAuthor ? styles.lastChatBubbleInGroup : styles.recipientLastChatBubbleInGroup)),\r\n      ...(this.props.isCenterInGroup && (youAreAuthor ? styles.centerChatBubbleInGroup : styles.recipientCenterChatBubbleInGroup)),\r\n      ...chatBubble,\r\n      ...(youAreAuthor ? userBubble : recipientBubble),\r\n    };\r\n\r\n    return (\r\n      <div\r\n        style={{\r\n          ...styles.chatBubbleWrapper,\r\n        }}\r\n        className=\"react-bell-chat__chat-bubble\"\r\n      >\r\n        <div style={chatBubbleStyles}>\r\n          <p style={{ ...styles.p, ...text }}>{this.props.message.message}</p>\r\n          {this.props.message.createdOn && (\r\n            <span\r\n              className=\"react-bell-chat__chat-bubble__created-on\"\r\n              style={{\r\n                ...styles.createdOn,\r\n                ...(youAreAuthor ? bubbleStyles.createdOn : bubbleStyles.recipientCreatedOn)\r\n              }}\r\n              title={this.props.message.createdOn.toLocaleString()}\r\n            >{this.props.message.createdOn.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit', hour12: true })}\r\n            </span>\r\n          )}\r\n          {this.props.message.isSend !== undefined && youAreAuthor && (\r\n            <span\r\n              className=\"react-bell-chat__chat-bubble__is-send\"\r\n              style={{\r\n                ...styles.isSend,\r\n              }}\r\n              title={this.props.message.isSend ? 'Send' : 'Sending'}\r\n            >\r\n              {this.props.message.isSend ?\r\n                <svg\r\n                  width=\"10px\"\r\n                  height=\"10px\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  viewBox=\"0 0 10 10\"\r\n                  preserveAspectRatio=\"xMidYMid\"\r\n                  style={{ background: 'none' }}\r\n                >\r\n                  <path\r\n                    fill={bubbleStyles.isSendIconColor ? bubbleStyles.isSendIconColor : defaultBubbleStyles.isSendIconColor}\r\n                    {/* tslint:disable-next-line:max-line-length*/...{}}\r\n                    d=\"M9,1.7L8.6,1.4C8.5,1.3,8.3,1.3,8.2,1.4L3.9,7C3.8,7.1,3.6,7.1,3.5,7c0,0,0,0,0,0L1.7,5.3c-0.1-0.1-0.3-0.1-0.4,0L1,5.6 C0.9,5.7,0.9,5.9,1,6l2.6,2.6c0.1,0.1,0.3,0.1,0.4,0L9,2.1C9.1,2,9.1,1.8,9,1.7z\"\r\n                  />\r\n                </svg>\r\n                :\r\n                <svg\r\n                  width=\"10px\"\r\n                  height=\"10px\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  viewBox=\"0 0 100 100\"\r\n                  preserveAspectRatio=\"xMidYMid\"\r\n                  className=\"lds-eclipse\"\r\n                  style={{ background: 'none' }}\r\n                >\r\n                  <path\r\n                    stroke=\"none\"\r\n                    d=\"M10 50A40 40 0 0 0 90 50A40 45 0 0 1 10 50\"\r\n                    fill={bubbleStyles.loadingSpinnerColor ? bubbleStyles.loadingSpinnerColor : defaultBubbleStyles.loadingSpinnerColor}\r\n                    transform=\"rotate(78 50 52.5)\"\r\n                  >\r\n                    <animateTransform\r\n                      attributeName=\"transform\"\r\n                      type=\"rotate\"\r\n                      calcMode=\"linear\"\r\n                      values=\"0 50 52.5;360 50 52.5\"\r\n                      keyTimes=\"0;1\"\r\n                      dur=\"1s\"\r\n                      begin=\"0s\"\r\n                      repeatCount=\"indefinite\"\r\n                    />\r\n                  </path>\r\n                </svg>\r\n              }\r\n            </span>\r\n          )}\r\n        </div>\r\n        {this.props.showRecipientLastSeenMessage && this.props.lastSeenByAuthors &&\r\n          this.props.lastSeenByAuthors.length > 0 && this.props.customLastSeenAvatar &&\r\n          (\r\n            <div\r\n              className=\"react-bell-chat__chat-bubble__last-seen-by__container\"\r\n              style={styles.lastSeenByContainer}\r\n              onMouseEnter={() => this.setState({ mouseOverLastSeenContainer: true })}\r\n              onMouseLeave={() => this.setState({ mouseOverLastSeenContainer: false })}\r\n              title={'Last seen by ' + this.props.lastSeenByAuthors.map(a => a.name).join(', ').replace(/,(?!.*,)/gmi, ' and')}\r\n            >\r\n              {this.props.lastSeenByAuthors.map((a, i) => (\r\n                <this.props.customLastSeenAvatar\r\n                  key={i}\r\n                  author={a}\r\n                  containerStyle={{\r\n                    ...(i > 0 && !this.state.mouseOverLastSeenContainer ? { marginTop: -12 } : { marginTop: -4 }),\r\n                    zIndex: 100 + i\r\n                  }}\r\n                />\r\n              ))}\r\n            </div>\r\n          )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/ChatBubble/index.tsx","import * as React from 'react';\r\nimport { Author } from '../Author';\r\n\r\nexport interface AvatarProps {\r\n  author: Author;\r\n  containerStyle?: React.CSSProperties;\r\n\r\n}\r\n\r\nconst styles = {\r\n  container: {\r\n    position: 'absolute',\r\n    left: -50,\r\n    top: 0,\r\n    width: 40,\r\n    height: 40,\r\n    lineHeight: '40px',\r\n    fontWeight: 400,\r\n    color: 'white',\r\n    backgroundColor: 'rgb(153, 153, 153)',\r\n    borderRadius: 20,\r\n    textAlign: 'center',\r\n    borderTopRightRadius: 5\r\n  } as React.CSSProperties\r\n};\r\n\r\nconst Avatar: React.SFC<AvatarProps> = props => props.author && (\r\n  <div\r\n    style={{\r\n      ...styles.container,\r\n      ...props.containerStyle\r\n    }}\r\n    title={props.author.name}\r\n    className=\"react-bell-chat__avatar\"\r\n  >\r\n    <span style={{ pointerEvents: 'none' }}>{\r\n      props.author.avatarName ?\r\n        props.author.avatarName\r\n        :\r\n        props.author.name.split(' ').map(part => part[0]).join('').toUpperCase().substr(0, 3)}\r\n    </span>\r\n  </div>\r\n);\r\n\r\nexport default Avatar;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/Avatar/index.tsx","import * as React from 'react';\r\nimport { ChatBubbleProps, defaultBubbleStyles } from '../ChatBubble';\r\n\r\nconst styles = {\r\n  container: {\r\n    textAlign: 'center',\r\n    fontSize: 12,\r\n    color: 'rgba(0, 0, 0, 0.55)'\r\n  } as React.CSSProperties,\r\n};\r\n\r\nexport interface SystemChatBubbleProps extends ChatBubbleProps {\r\n}\r\n\r\nconst SystemChatBubble = (props: SystemChatBubbleProps) => {\r\n  let { bubbleStyles } = props;\r\n  bubbleStyles = bubbleStyles || defaultBubbleStyles;\r\n  const time = props.message.createdOn && props.message.createdOn.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit', hour12: true });\r\n  return props.message && (\r\n    <div\r\n      className=\"react-bell-chat__chat-bubble react-bell-chat__chat-bubble--system\"\r\n      style={{\r\n        ...styles.container,\r\n        ...bubbleStyles.systemChatBubbleContainerStyle\r\n      }}\r\n    >\r\n      {time && (\r\n        <span\r\n          className=\"react-bell-chat__chat-bubble--system__created-on\"\r\n          title={props.message.createdOn.toLocaleString()}\r\n        >\r\n          {time}:{' '}\r\n        </span>\r\n      )}\r\n      {props.message.message}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SystemChatBubble;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/SystemChatBubble/index.tsx","import * as React from 'react';\r\nimport { Author } from '../Author';\r\n\r\nconst styles = {\r\n  container: {\r\n    position: 'absolute',\r\n    bottom: 2,\r\n    left: 0,\r\n    right: 0,\r\n    color: 'rgb(204, 204, 204)',\r\n    textAlign: 'center',\r\n  } as React.CSSProperties\r\n};\r\n\r\nexport interface IsTypingProps {\r\n  typingAuthors: Author[];\r\n}\r\n\r\nconst IsTyping = (props: IsTypingProps) => {\r\n  return props.typingAuthors && props.typingAuthors.length > 0 && (\r\n    <div className=\"react-bell-chat__is-typing__container\" style={styles.container}>\r\n      {props.typingAuthors.map(a => a.name).join(', ').replace(/,(?!.*,)/gmi, ' and') + (props.typingAuthors.length === 1 ? ' is ' : ' are ') + 'typing'}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default IsTyping;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/IsTyping/index.tsx","import * as React from 'react';\r\n\r\nconst styles: { [key: string]: React.CSSProperties } = {\r\n  chatHistory: {\r\n    overflow: 'auto',\r\n    padding: '0 10px',\r\n    // flexDirection: 'column-reverse'\r\n  }\r\n};\r\n\r\nexport interface ChatScrollAreaProps {\r\n  maxHeight?: string | number;\r\n  minHeight?: string | number;\r\n  children?: JSX.Element | JSX.Element[];\r\n  containerStyles?: React.CSSProperties;\r\n  apiRef?: (api: ChatScrollAreaApi) => void;\r\n  loadOldMessagesThreshold: number;\r\n  onLoadOldMessages: () => Promise<void>;\r\n}\r\n\r\nexport interface ChatScrollAreaApi {\r\n  scrollToBottom: (behavior?: ScrollBehavior) => void;\r\n  scrollTo: (top: number) => void;\r\n  scrollTop: () => number;\r\n  scrollHeight: () => number;\r\n  clientHeight: () => number;\r\n  scrolledToBottom: () => boolean;\r\n  scrolledToLoadThreshold: () => boolean; // Check if we are scrolled to threshold where we need to load messages\r\n}\r\n\r\nexport class ChatScrollArea extends React.Component<ChatScrollAreaProps> {\r\n  scrollContainer: HTMLDivElement;\r\n  constructor(props: ChatScrollAreaProps) {\r\n    super(props);\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <div\r\n        ref={scrollContainer => {\r\n          this.scrollContainer = scrollContainer;\r\n          this.props.apiRef && this.props.apiRef({\r\n            scrollToBottom: (behavior = 'auto') => scrollContainer && (scrollContainer.scrollTo ?\r\n              scrollContainer.scrollTo({\r\n                top: scrollContainer.scrollHeight,\r\n                behavior\r\n              }) :\r\n              scrollContainer.scrollTop = scrollContainer.scrollHeight),\r\n            scrollTo: top => scrollContainer && (scrollContainer.scrollTo ?\r\n              scrollContainer.scrollTo({\r\n                top: top\r\n              })\r\n              :\r\n              scrollContainer.scrollTop = top),\r\n            scrolledToBottom: () => this.scrollContainer.clientHeight + this.scrollContainer.scrollTop === this.scrollContainer.scrollHeight,\r\n            scrolledToLoadThreshold: () => this.scrollContainer && this.scrollContainer.scrollTop <= this.props.loadOldMessagesThreshold,\r\n            scrollTop: () => this.scrollContainer && this.scrollContainer.scrollTop,\r\n            scrollHeight: () => this.scrollContainer && this.scrollContainer.scrollHeight,\r\n            clientHeight: () => this.scrollContainer && this.scrollContainer.clientHeight,\r\n          });\r\n        }}\r\n        className=\"react-bell-chat__chat-history\"\r\n        style={{\r\n          ...styles.chatHistory,\r\n          ...(this.props.maxHeight !== undefined ? { maxHeight: this.props.maxHeight } : {}),\r\n          ...(this.props.minHeight !== undefined ? { minHeight: this.props.minHeight } : {}),\r\n          ...this.props.containerStyles\r\n        }}\r\n        onScroll={e => (this.scrollContainer && this.scrollContainer.scrollTop <= this.props.loadOldMessagesThreshold) && this.props.onLoadOldMessages()}\r\n      >\r\n        {this.props.children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ChatScrollArea;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/ChatScrollArea/index.tsx","import * as React from 'react';\r\nimport { Author } from '../Author';\r\n\r\nexport interface LastSeenAvatarProps {\r\n  author: Author;\r\n  containerStyle?: React.CSSProperties;\r\n}\r\n\r\nconst styles = {\r\n  container: {\r\n    width: 20,\r\n    height: 20,\r\n    lineHeight: '20px',\r\n    fontWeight: 400,\r\n    fontSize: 10,\r\n    color: 'white',\r\n    backgroundColor: 'rgb(153, 153, 153)',\r\n    borderRadius: 10,\r\n    textAlign: 'center',\r\n    transition: '0.3s all ease-in-out',\r\n    display: 'block',\r\n    position: 'relative'\r\n  } as React.CSSProperties\r\n};\r\n\r\nconst LastSeenAvatar: React.SFC<LastSeenAvatarProps> = props => props.author && (\r\n  <div\r\n    style={{\r\n      ...styles.container,\r\n      ...props.containerStyle\r\n    }}\r\n    className=\"react-bell-chat__last-seen-avatar\"\r\n  >\r\n    <span style={{ pointerEvents: 'none' }}>{\r\n      props.author.lastSeenAvatarName ?\r\n        props.author.lastSeenAvatarName\r\n        :\r\n        props.author.name[0].toUpperCase()}\r\n    </span>\r\n  </div>\r\n);\r\n\r\nexport default LastSeenAvatar;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/LastSeenAvatar/index.tsx","import * as React from 'react';\r\nimport DefaultChatBubble, { ChatBubbleProps, ChatBubbleStyles } from '../ChatBubble';\r\nimport DefaultSystemChatBubble from '../SystemChatBubble';\r\nimport styles from './styles';\r\nimport { Message } from '../';\r\nimport { Author } from '../Author';\r\nimport Avatar, { AvatarProps } from '../Avatar';\r\nimport { LastSeenAvatarProps } from '../LastSeenAvatar';\r\n\r\nexport interface BubbleGroupProps {\r\n  yourAuthorId?: number;\r\n  messages: Message[];\r\n  author: Author;\r\n  authors?: Author[];\r\n  showRecipientAvatar?: boolean;\r\n  bubblesCentered?: boolean;\r\n  bubbleStyles?: ChatBubbleStyles;\r\n  customAvatar?: (props: AvatarProps) => JSX.Element;\r\n  customLastSeenAvatar?: (props: LastSeenAvatarProps) => JSX.Element;\r\n  customChatBubble?: (props: ChatBubbleProps) => JSX.Element;\r\n  customSystemChatBubble?: (props: ChatBubbleProps) => JSX.Element;\r\n  showRecipientLastSeenMessage?: boolean;\r\n}\r\n\r\nexport default class BubbleGroup extends React.Component<BubbleGroupProps> {\r\n  public static defaultProps: BubbleGroupProps = {\r\n    messages: [],\r\n    author: undefined,\r\n    customAvatar: Avatar,\r\n    showRecipientLastSeenMessage: false\r\n  };\r\n\r\n  constructor(props: BubbleGroupProps) {\r\n    super(props);\r\n  }\r\n\r\n  renderGroup(messages: Message[], author: Author) {\r\n    const {\r\n      bubblesCentered,\r\n      bubbleStyles,\r\n      showRecipientAvatar,\r\n      customChatBubble,\r\n      customSystemChatBubble,\r\n      showRecipientLastSeenMessage,\r\n      customLastSeenAvatar\r\n    } = this.props;\r\n    const ChatBubble = customChatBubble || DefaultChatBubble;\r\n    const SystemChatBubble = customSystemChatBubble || DefaultSystemChatBubble;\r\n\r\n    const messageNodes = messages.map((message, i) => {\r\n      const props = {\r\n        key: i,\r\n        yourAuthorId: this.props.yourAuthorId,\r\n        author,\r\n        message,\r\n        bubblesCentered,\r\n        bubbleStyles,\r\n        isFirstInGroup: i === 0,\r\n        isLastInGroup: i === messages.length - 1 && messages.length > 1,\r\n        isCenterInGroup: i < messages.length - 1 && messages.length > 1,\r\n        lastSeenByAuthors: this.props.authors && this.props.authors.filter(a => a.lastSeenMessageId !== undefined && a.lastSeenMessageId === message.id),\r\n        showRecipientLastSeenMessage,\r\n        customLastSeenAvatar\r\n      };\r\n      return message.authorId !== undefined ?\r\n        (\r\n          <ChatBubble\r\n            {...props}\r\n          />\r\n        )\r\n        :\r\n        (\r\n          <SystemChatBubble\r\n            {...props}\r\n          />\r\n        );\r\n    });\r\n\r\n    const youAreAuthor = author && this.props.yourAuthorId === author.id;\r\n\r\n    return (\r\n      <div style={styles.chatBubbleWrapper}>\r\n        {!youAreAuthor && showRecipientAvatar && author && this.props.customAvatar &&\r\n          this.props.customAvatar({ author: this.props.author })\r\n        }\r\n        {messageNodes}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { messages, author } = this.props;\r\n    return this.renderGroup(messages, author);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/BubbleGroup/index.tsx","import * as React from 'react';\r\n\r\nconst styles = {\r\n  container: {\r\n    textAlign: 'center',\r\n    fontSize: 12,\r\n    color: 'rgba(0, 0, 0, 0.55)'\r\n  } as React.CSSProperties,\r\n};\r\n\r\nexport interface DateRowProps {\r\n  date: Date;\r\n  containerStyles?: React.CSSProperties;\r\n}\r\n\r\nconst DateRow = (props: DateRowProps) => {\r\n  return props.date && (\r\n    <div\r\n      className=\"react-bell-chat__date-row\"\r\n      style={{\r\n        ...styles.container,\r\n        ...props.containerStyles\r\n      }}\r\n      title={props.date.toLocaleDateString([], { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}\r\n    >\r\n      {props.date.toLocaleDateString()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DateRow;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/DateRow/index.tsx","import * as React from 'react';\r\n\r\nconst styles = {\r\n  containerStyles: {\r\n    display: 'flex',\r\n    marginBottom: 10\r\n  },\r\n};\r\n\r\nexport interface LoadingMessagesProps {\r\n  containerStyles?: object;\r\n  spinnerColor?: string;\r\n  isVisible: boolean;\r\n}\r\n\r\nconst LoadingMessages: React.SFC<LoadingMessagesProps> = (props: LoadingMessagesProps) => {\r\n  const { containerStyles } = props;\r\n  return (\r\n    <div className=\"react-bell-chat__loading-messages\" style={{ ...styles.containerStyles, ...containerStyles }}>\r\n      <svg\r\n        width=\"40px\"\r\n        height=\"40px\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        viewBox=\"0 0 100 100\"\r\n        preserveAspectRatio=\"xMidYMid\"\r\n        style={{ \r\n          background: 'none',\r\n          margin: 'auto', \r\n          fill: props.spinnerColor, opacity: props.isVisible ? 1 : 0,\r\n          transition: '0.3s all ease-in-out'\r\n        }}\r\n      >\r\n        <title>Loading messages</title>\r\n        <path\r\n          stroke=\"none\"\r\n          d=\"M10 50A40 40 0 0 0 90 50A40 46 0 0 1 10 50\"\r\n          transform=\"rotate(42 50 53)\"\r\n        >\r\n          <animateTransform\r\n            attributeName=\"transform\"\r\n            type=\"rotate\"\r\n            calcMode=\"linear\"\r\n            values=\"0 50 53;360 50 53\"\r\n            keyTimes=\"0;1\"\r\n            dur=\"1s\"\r\n            begin=\"0s\"\r\n            repeatCount=\"indefinite\"\r\n          />\r\n        </path>\r\n      </svg>\r\n    </div>\r\n  );\r\n};\r\nLoadingMessages.defaultProps = {\r\n  spinnerColor: 'rgb(0, 132, 255)'\r\n};\r\nexport default LoadingMessages;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/LoadingMessages/index.tsx","import ChatBubble, { ChatBubbleProps } from './ChatBubble/';\r\nimport Avatar, { AvatarProps } from './Avatar/';\r\nimport IsTyping, { IsTypingProps } from './IsTyping/';\r\nimport ChatScrollArea, { ChatScrollAreaProps, ChatScrollAreaApi } from './ChatScrollArea/';\r\nimport LastSeenAvatar, { LastSeenAvatarProps } from './LastSeenAvatar/';\r\nimport BubbleGroup, { BubbleGroupProps } from './BubbleGroup';\r\nimport ChatFeed, { ChatFeedProps, ChatFeedApi } from './ChatFeed/';\r\nimport ChatInput, { ChatInputProps } from './ChatInput/';\r\nimport SystemChatBubble from './SystemChatBubble/';\r\nimport DateRow, { DateRowProps } from './DateRow/';\r\nimport LoadingMessages, { LoadingMessagesProps } from './LoadingMessages/';\r\nimport Message from './Message/';\r\nimport Author from './Author/';\r\n\r\nexport {\r\n  ChatFeed,\r\n  ChatFeedProps,\r\n  ChatFeedApi,\r\n  ChatInput,\r\n  ChatInputProps,\r\n  LoadingMessages,\r\n  LoadingMessagesProps,\r\n  DateRow,\r\n  DateRowProps,\r\n  ChatBubble,\r\n  ChatBubbleProps,\r\n  SystemChatBubble,\r\n  BubbleGroup,\r\n  BubbleGroupProps,\r\n  Message,\r\n  Author,\r\n  Avatar,\r\n  AvatarProps,\r\n  LastSeenAvatar,\r\n  LastSeenAvatarProps,\r\n  IsTyping,\r\n  IsTypingProps,\r\n  ChatScrollArea,\r\n  ChatScrollAreaProps,\r\n  ChatScrollAreaApi\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/index.ts","import * as React from 'react';\r\n\r\nconst styles = {\r\n  chatBubbleWrapper: {\r\n    position: 'relative',\r\n    marginBottom: 2,\r\n    display: 'flex'\r\n  } as React.CSSProperties,\r\n  chatBubble: {\r\n    position: 'relative',\r\n    backgroundColor: '#0084FF',\r\n    borderRadius: 7,\r\n    marginRight: 'auto',\r\n    marginLeft: 'auto',\r\n    maxWidth: '80%',\r\n    paddingTop: 8,\r\n    paddingBottom: 10,\r\n    paddingLeft: 14,\r\n    paddingRight: 14,\r\n    // boxShadow: 'rgba(0, 0, 0, 0.3) 2px 2px 2px'\r\n  } as React.CSSProperties,\r\n  chatBubbleOrientationNormal: {\r\n    marginRight: 0,\r\n  } as React.CSSProperties,\r\n  recipientChatBubble: {\r\n    backgroundColor: '#ccc',\r\n  } as React.CSSProperties,\r\n  recipientChatBubbleOrientationNormal: {\r\n    marginLeft: 0,\r\n  } as React.CSSProperties,\r\n  p: {\r\n    color: '#FFFFFF',\r\n    fontSize: 16,\r\n    fontWeight: 300,\r\n    margin: 0,\r\n    marginRight: 30\r\n  } as React.CSSProperties,\r\n  firstChatBubbleInGroup: {\r\n    borderTopRightRadius: 0\r\n  } as React.CSSProperties,\r\n  recipientFirstChatBubbleInGroup: {\r\n    borderTopLeftRadius: 0\r\n  } as React.CSSProperties,\r\n  lastChatBubbleInGroup: {\r\n    borderTopRightRadius: 0\r\n  } as React.CSSProperties,\r\n  recipientLastChatBubbleInGroup: {\r\n    borderTopLeftRadius: 0\r\n  } as React.CSSProperties,\r\n  centerChatBubbleInGroup: {\r\n    borderTopRightRadius: 0,\r\n    borderBottomRightRadius: 0\r\n  } as React.CSSProperties,\r\n  recipientCenterChatBubbleInGroup: {\r\n    borderBottomLeftRadius: 0,\r\n    borderTopLeftRadius: 0\r\n  } as React.CSSProperties,\r\n  createdOn: {\r\n    position: 'absolute',\r\n    right: 14,\r\n    bottom: 2,\r\n    fontSize: 9,\r\n    color: 'rgba(255, 255, 255, 0.55)'\r\n  } as React.CSSProperties,\r\n  isSend: {\r\n    position: 'absolute',\r\n    right: 2,\r\n    bottom: 2,\r\n    fontSize: 9,\r\n  } as React.CSSProperties,\r\n  lastSeenByContainer: {\r\n    position: 'absolute',\r\n    right: -30,\r\n    top: 0,\r\n    width: 20,\r\n    height: '100%',\r\n  } as React.CSSProperties\r\n};\r\nexport default styles;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/ChatBubble/styles.ts","import * as React from 'react';\r\n\r\nexport interface BubbleGroupStyles{\r\n  chatBubbleWrapper: React.CSSProperties;\r\n  bubbleGroupHeader: React.CSSProperties;\r\n}\r\n\r\nexport default {\r\n  chatBubbleWrapper: {\r\n    marginTop: 10,\r\n    marginBottom: 10,\r\n    position: 'relative',\r\n  },\r\n  bubbleGroupHeader: {\r\n    margin: 0,\r\n    fontSize: 14,\r\n    fontWeight: 400,\r\n    color: '#999',\r\n  },\r\n  \r\n} as BubbleGroupStyles;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/BubbleGroup/styles.ts","// Copyright 2017 Brandon Mowat\r\n// Written, developed, and designed by Brandon Mowat for the purpose of helping\r\n// other developers make chat interfaces.\r\n\r\nimport * as React from 'react';\r\nimport BubbleGroup from '../BubbleGroup';\r\nimport DefaultChatBubble, { ChatBubbleProps } from '../ChatBubble';\r\nimport Message from '../Message';\r\nimport styles from './styles';\r\nimport { Author } from '../Author';\r\nimport { ChatBubbleStyles } from '../ChatBubble/';\r\nimport Avatar, { AvatarProps } from '../Avatar';\r\nimport IsTyping from '../IsTyping';\r\nimport ChatScrollArea, { ChatScrollAreaProps, ChatScrollAreaApi } from '../ChatScrollArea';\r\nimport LastSeenAvatar, { LastSeenAvatarProps } from '../LastSeenAvatar';\r\nimport { groupBy } from '../utils/utils';\r\nimport DateRow, { DateRowProps } from '../DateRow';\r\nimport LoadingMessages, { LoadingMessagesProps } from '../LoadingMessages';\r\nimport SystemChatBubble from '../SystemChatBubble';\r\n\r\n// Model for ChatFeed props.\r\n\r\nexport interface ChatFeedProps {\r\n  // Structural props\r\n  className?: string;\r\n\r\n  // Functional props\r\n  messages: Message[];\r\n  authors: Author[];\r\n  yourAuthorId: number;\r\n  hasOldMessages?: boolean;\r\n  loadOldMessagesThreshold?: number;\r\n\r\n  // Visual props\r\n  bubblesCentered?: boolean;\r\n  bubbleStyles?: ChatBubbleStyles;\r\n  maxHeight?: string | number;\r\n  minHeight?: string | number;\r\n\r\n  // Switches\r\n  showDateRow?: boolean;\r\n  showRecipientAvatar?: boolean;\r\n  showRecipientLastSeenMessage?: boolean;\r\n  showIsTyping?: boolean;\r\n  showLoadingMessages?: boolean;\r\n\r\n  // Extra container styles for custom components\r\n  showRecipientAvatarChatMessagesStyle?: React.CSSProperties;\r\n  showRecipientLastSeenMessageChatMessagesStyle?: React.CSSProperties;\r\n  showIsTypingChatMessagesStyle?: React.CSSProperties;\r\n\r\n  // Custom components\r\n  customLoadingMessages?: (props: LoadingMessagesProps) => JSX.Element;\r\n  customChatBubble?: (props: ChatBubbleProps) => JSX.Element;\r\n  customSystemChatBubble?: (props: ChatBubbleProps) => JSX.Element;\r\n  customAvatar?: (props: AvatarProps) => JSX.Element;\r\n  customScrollArea?: (props: ChatScrollAreaProps) => JSX.Element;\r\n  customIsTyping?: (props: ChatScrollAreaProps) => JSX.Element;\r\n  customLastSeenAvatar?: (props: LastSeenAvatarProps) => JSX.Element;\r\n  customDateRow?: (props: DateRowProps) => JSX.Element;\r\n\r\n  // Callbacks\r\n  onLoadOldMessages?: () => Promise<void>;\r\n\r\n  ref?: (api: ChatFeedApi) => void;\r\n}\r\n\r\nexport interface ChatFeedState {\r\n  isLoadingMessages: boolean;\r\n}\r\n\r\nexport interface ChatFeedApi {\r\n  onMessageSend: () => void;\r\n  scrollApi: ChatScrollAreaApi;\r\n}\r\n\r\nconst DefaultChatBubbleFunc = props => <DefaultChatBubble {...props} />;\r\nconst DefaultScrollAreaFunc = props => <ChatScrollArea {...props} />;\r\n\r\nexport interface ChatFeedSnapshot {\r\n  wasScrolledToBottom: boolean;\r\n  scrollHeight: number;\r\n  clientHeight: number;\r\n}\r\n\r\n// React component to render a complete chat feed\r\nexport default class ChatFeed extends React.Component<ChatFeedProps, ChatFeedState> implements ChatFeedApi {\r\n  public static defaultProps: ChatFeedProps = {\r\n    messages: [],\r\n    authors: [],\r\n    customChatBubble: DefaultChatBubbleFunc,\r\n    customAvatar: Avatar,\r\n    customScrollArea: DefaultScrollAreaFunc,\r\n    customLastSeenAvatar: LastSeenAvatar,\r\n    customDateRow: DateRow,\r\n    customLoadingMessages: LoadingMessages,\r\n    yourAuthorId: 0,\r\n    loadOldMessagesThreshold: 50,\r\n    customSystemChatBubble: SystemChatBubble\r\n  };\r\n\r\n  public scrollApi: ChatScrollAreaApi;\r\n\r\n  constructor(props: ChatFeedProps) {\r\n    super(props);\r\n    this.onLoadOldMessages = this.onLoadOldMessages.bind(this);\r\n    this.state = {\r\n      isLoadingMessages: false\r\n    };\r\n  }\r\n\r\n  public onMessageSend() {\r\n    this.scrollApi && this.scrollApi.scrollToBottom();\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps: ChatFeedProps, nextState: ChatFeedState) {\r\n    return (\r\n      this.shallowDiffers(this.props, nextProps) ||\r\n      this.shallowDiffers(this.state, nextState)\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.scrollApi && this.scrollApi.scrollToBottom();\r\n  }\r\n\r\n  getSnapshotBeforeUpdate(prevProps: ChatFeedProps, prevState: ChatFeedState) {\r\n    const wasScrolledToBottom = this.scrollApi && this.scrollApi.scrolledToBottom();\r\n    const scrollHeight = this.scrollApi && this.scrollApi.scrollHeight();\r\n    const clientHeight = this.scrollApi && this.scrollApi.clientHeight();\r\n\r\n    return {\r\n      wasScrolledToBottom,\r\n      scrollHeight,\r\n      clientHeight\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps: ChatFeedProps, prevState: ChatFeedState, snapshot: ChatFeedSnapshot) {\r\n    if (this.props.messages.length !== prevProps.messages.length && snapshot && snapshot.wasScrolledToBottom) {\r\n      this.scrollApi.scrollToBottom();\r\n    } else if (this.props.messages.length !== prevProps.messages.length && snapshot) {\r\n      const scrollHeight = this.scrollApi && this.scrollApi.scrollHeight();\r\n      this.scrollApi.scrollTo(scrollHeight - snapshot.scrollHeight);\r\n    }\r\n  }\r\n\r\n  shallowDiffers(a: object, b: object) {\r\n    for (let i in a) {\r\n      if (!(i in b)) {\r\n        return true;\r\n      }\r\n    }\r\n    for (let i in b) {\r\n      if (a[i] !== b[i]) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Determines what type of message/messages to render.\r\n   */\r\n  renderMessages(messages: Message[]) {\r\n    const { bubbleStyles, customChatBubble, showRecipientAvatar } = this.props;\r\n\r\n    // First group by days\r\n    const groups = groupBy(messages, item => item.createdOn && item.createdOn.toDateString());\r\n    let messageNodes: JSX.Element[] = [];\r\n    let jsxKey = 0;\r\n    Object.keys(groups).forEach(key => {\r\n      let group = [];\r\n      const messagesGroup = groups[key];\r\n      if (messagesGroup[0] && messagesGroup[0].createdOn && this.props.showDateRow) {\r\n        messageNodes.push(<this.props.customDateRow key={key} date={messagesGroup[0].createdOn} />);\r\n      }\r\n      messageNodes = messageNodes.concat(messagesGroup.map((message, index) => {\r\n        group.push(message);\r\n        // Find diff in message type or no more messages\r\n        if (!messagesGroup[index + 1] || messagesGroup[index + 1].authorId !== message.authorId) {\r\n          const messageGroup = group;\r\n          const author = this.props.authors && this.props.authors.filter(a => a.id === message.authorId)[0];\r\n          group = [];\r\n          jsxKey++;\r\n          return (\r\n            <BubbleGroup\r\n              key={jsxKey}\r\n              yourAuthorId={this.props.yourAuthorId}\r\n              messages={messageGroup}\r\n              author={author}\r\n              authors={this.props.authors}\r\n              showRecipientAvatar={showRecipientAvatar}\r\n              customChatBubble={customChatBubble}\r\n              bubbleStyles={bubbleStyles}\r\n              showRecipientLastSeenMessage={this.props.showRecipientLastSeenMessage}\r\n              customAvatar={this.props.customAvatar}\r\n              customLastSeenAvatar={this.props.customLastSeenAvatar}\r\n              customSystemChatBubble={this.props.customSystemChatBubble}\r\n            />\r\n          );\r\n        }\r\n        return null;\r\n      }));\r\n    });\r\n    return messageNodes;\r\n  }\r\n\r\n  renderIsTyping() {\r\n    const typingAuthors = this.props.authors && this.props.authors.filter(a => a.isTyping && a.id !== this.props.yourAuthorId);\r\n    if (!typingAuthors || typingAuthors.length === 0) {\r\n      return null;\r\n    }\r\n    return <IsTyping typingAuthors={typingAuthors} />;\r\n  }\r\n\r\n  /**\r\n   * render : renders our chat feed\r\n   */\r\n  render() {\r\n    return (\r\n      <div\r\n        id={'react-bell-chat__chat-panel ' + (this.props.className ? this.props.className : '')}\r\n        style={{\r\n          ...styles.chatPanel\r\n        }}\r\n      >\r\n        <this.props.customScrollArea\r\n          minHeight={this.props.minHeight}\r\n          maxHeight={this.props.maxHeight}\r\n          apiRef={e => this.scrollApi = e}\r\n          loadOldMessagesThreshold={this.props.loadOldMessagesThreshold}\r\n          onLoadOldMessages={this.onLoadOldMessages}\r\n        >\r\n          <div\r\n            style={{\r\n              ...styles.chatMessages,\r\n              ...(this.props.showRecipientAvatar && styles.showRecipientAvatarChatMessagesStyle),\r\n              ...(this.props.showRecipientAvatar && this.props.showRecipientAvatarChatMessagesStyle),\r\n              ...(this.props.showIsTyping && styles.showIsTypingChatMessagesStyle),\r\n              ...(this.props.showIsTyping && this.props.showIsTypingChatMessagesStyle),\r\n              ...(this.props.showRecipientLastSeenMessage && styles.showRecipientLastSeenMessageChatMessagesStyle),\r\n              ...(this.props.showRecipientLastSeenMessage && this.props.showRecipientLastSeenMessageChatMessagesStyle),\r\n            }}\r\n            className=\"react-bell-chat__chat-messages\"\r\n          >\r\n            {<this.props.customLoadingMessages isVisible={this.props.showLoadingMessages || this.state.isLoadingMessages} />}\r\n            {this.renderMessages(this.props.messages)}\r\n            {this.props.showIsTyping && this.renderIsTyping()}\r\n          </div>\r\n        </this.props.customScrollArea>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private onLoadOldMessages() {\r\n    if (!this.state.isLoadingMessages && this.props.hasOldMessages) {\r\n      return new Promise<void>(resolve => {\r\n        this.setState({\r\n          isLoadingMessages: true,\r\n        }, () => resolve());\r\n      }).then(async () => {\r\n        if (this.props.onLoadOldMessages) {\r\n          await this.props.onLoadOldMessages();\r\n        }\r\n      }).then(async () => {\r\n        await new Promise<void>(resolve => {\r\n          this.setState({\r\n            isLoadingMessages: false,\r\n          }, () => {\r\n            if (this.scrollApi.scrolledToLoadThreshold()) {\r\n              this.scrollApi.scrollTo(this.props.loadOldMessagesThreshold + 1);\r\n            }\r\n            resolve();\r\n          });\r\n        });\r\n      });\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/ChatFeed/index.tsx","import * as React from 'react';\r\n\r\nexport default {\r\n  chatPanel: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    flex: 1,\r\n    overflow: 'hidden',\r\n    position: 'relative'\r\n  } as React.CSSProperties,\r\n  showRecipientAvatarChatMessagesStyle: {\r\n    paddingLeft: 50\r\n  } as React.CSSProperties,\r\n  showIsTypingChatMessagesStyle: {\r\n    paddingBottom: 24,\r\n    position: 'relative'\r\n  } as React.CSSProperties,\r\n  showRecipientLastSeenMessageChatMessagesStyle: {\r\n    paddingRight: 30,\r\n  } as React.CSSProperties,\r\n  chatBubbleWrapper: {\r\n    marginTop: 10,\r\n    marginBottom: 10,\r\n    overflow: 'auto',\r\n    position: 'relative',\r\n  } as React.CSSProperties,\r\n  img: {\r\n    borderRadius: 100,\r\n    bottom: 0,\r\n    left: 0,\r\n    position: 'absolute',\r\n    width: 36,\r\n    zIndex: 100,\r\n  } as React.CSSProperties,\r\n  chatMessages: {\r\n    paddingBottom: 10,\r\n    paddingTop: 10,\r\n  } as React.CSSProperties\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/ChatFeed/styles.ts","const groupBy = <T>(array: Array<T>, groupingKeyFn: (item: T) => string): { [key: string]: Array<T> } => {\r\n  if (typeof groupingKeyFn !== 'function') {\r\n    throw new Error(\"groupBy take a function as only parameter\");\r\n  }\r\n  return array.reduce((result, item) => {\r\n    let key = groupingKeyFn(item);\r\n    if (!result[key])\r\n      result[key] = [];\r\n    result[key].push(item);\r\n    return result;\r\n  }, {});\r\n};\r\nexport { groupBy };\n\n\n// WEBPACK FOOTER //\n// ./src/lib/utils/utils.ts","import * as React from 'react';\r\n\r\nconst styles = {\r\n  chatInput: {\r\n    flex: 1,\r\n  },\r\n  inputStyle: {\r\n    border: 'none',\r\n    borderTopWidth: '1',\r\n    borderTopStyle: 'solid',\r\n    borderTopColor: '#ddd',\r\n    fontSize: '16',\r\n    outline: 'none',\r\n    padding: '30',\r\n    width: '100%',\r\n  },\r\n};\r\n\r\nexport interface ChatInputProps {\r\n  inputStyles?: object;\r\n  inputPlaceholder?: string;\r\n}\r\n\r\nconst ChatInput = (props: ChatInputProps) => {\r\n  const { inputStyles, inputPlaceholder } = props;\r\n  return (\r\n    <div className=\"react-bell-chat__chat-input\" style={styles.chatInput}>\r\n      <input type=\"text\" style={inputStyles || styles.inputStyle} placeholder={inputPlaceholder} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatInput;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/ChatInput/index.tsx"],"sourceRoot":""}